<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
 
<mapper namespace="org.phone48.mapper.BoardMapper">
 	
 	<!--  게시글 갯수 -->
    <select id="boardCount" resultType="int">
        SELECT
            COUNT(*)
        FROM REVIEW
    </select>
    
    <!-- 게시글 리스트 -->
    <select id="reviewList" resultType="org.phone48.dto.ReviewDTO">
        SELECT
            rno,id,nickname,review_content,review_point
        FROM REVIEW
    </select>
    
    <!-- 게시글 상세 페이지 -->
    <select id="reviewDetail" parameterType="int" resultType="org.phone48.dto.ReviewDTO">
        SELECT
            *
        FROM REVIEW
        WHERE
            RNO = #{rno}
    </select>
	
	<!-- 게시글 작성 -->
    <insert id="reviewInsert" parameterType="org.phone48.board.dto.ReviewDTO">
        INSERT INTO
        BOARD (RNO,ID,NICKNAME,REVIEW_CONTENT,REVIEW_POINT)
        VALUES(#{rno},#{id},#{nickname},#{review_content},#{review_point}) 
    </insert>
    
    <!-- 페이징 -->
    <select id="boardList" resultType="hashmap" parameterType="hashmap">
        <![CDATA[
            SELECT * 
            FROM REVIEW
            ORDER BY RNO DESC
            LIMIT #{pageStart}, #{perPageNum}
        ]]>
		</select>
		<select id="boardListCnt" resultType="int">
		        SELECT count(*)
		        FROM REVIEW
		</select>



</mapper>
